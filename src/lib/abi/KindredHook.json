{"abi":[{"type":"constructor","inputs":[{"name":"_reputationOracle","type":"address","internalType":"address"},{"name":"_poolManager","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"FEE_HIGH_TRUST","inputs":[],"outputs":[{"name":"","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"type":"function","name":"FEE_LOW_TRUST","inputs":[],"outputs":[{"name":"","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"type":"function","name":"FEE_MEDIUM_TRUST","inputs":[],"outputs":[{"name":"","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"type":"function","name":"HIGH_TRUST_THRESHOLD","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MEDIUM_TRUST_THRESHOLD","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_SCORE_TO_TRADE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"afterSwap","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"hookData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"selector","type":"bytes4","internalType":"bytes4"}],"stateMutability":"view"},{"type":"function","name":"beforeSwap","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"hookData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"selector","type":"bytes4","internalType":"bytes4"},{"name":"fee","type":"uint24","internalType":"uint24"}],"stateMutability":"nonpayable"},{"type":"function","name":"calculateFee","inputs":[{"name":"score","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"fee","type":"uint24","internalType":"uint24"}],"stateMutability":"pure"},{"type":"function","name":"canTrade","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"allowed","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getFeeForAccount","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"fee","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"type":"function","name":"getHookPermissions","inputs":[],"outputs":[{"name":"permissions","type":"uint160","internalType":"uint160"}],"stateMutability":"pure"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"paused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"poolManager","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPoolManager"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"reputationOracle","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IReputationOracle"}],"stateMutability":"view"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"unpause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"validateTrade","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"fee","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"type":"event","name":"OracleUpdated","inputs":[{"name":"oldOracle","type":"address","indexed":true,"internalType":"address"},{"name":"newOracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Paused","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SwapWithReputation","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"reputationScore","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"feeApplied","type":"uint24","indexed":false,"internalType":"uint24"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TradeBlocked","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"reputationScore","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"reason","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"Unpaused","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AccountBlocked","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"EnforcedPause","inputs":[]},{"type":"error","name":"ExpectedPause","inputs":[]},{"type":"error","name":"HookPaused","inputs":[]},{"type":"error","name":"OracleFailure","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"ReputationTooLow","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"score","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ZeroAddress","inputs":[]}],"bytecode":{"object":"0x60c060405234801561000f575f80fd5b50604051610fc0380380610fc083398101604081905261002e91610135565b338061005357604051631e4fbdf760e01b81525f600482015260240160405180910390fd5b61005c816100c2565b506001600160a01b0382166100845760405163d92e233d60e01b815260040160405180910390fd5b6001600160a01b0381166100ab5760405163d92e233d60e01b815260040160405180910390fd5b6001600160a01b039182166080521660a052610166565b5f80546001600160a01b03838116610100818102610100600160a81b0319851617855560405193049190911692909183917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a35050565b80516001600160a01b0381168114610130575f80fd5b919050565b5f8060408385031215610146575f80fd5b61014f8361011a565b915061015d6020840161011a565b90509250929050565b60805160a051610e086101b85f395f61029e01525f81816102e101528181610324015281816103de015281816104fb01528181610625015281816108ad0152818161094601526109f50152610e085ff3fe608060405234801561000f575f80fd5b5060043610610132575f3560e01c806382be46ba116100b4578063d44686fd11610079578063d44686fd14610288578063d5325c7f14610291578063dc4c90d314610299578063ea4979bd146102c0578063f2fde38b146102c9578063fad844c1146102dc575f80fd5b806382be46ba146102355780638456cb591461023d5780638da5cb5b1461024557806399a5d7471461026e578063c4e833ce14610281575f80fd5b8063559f05dc116100fa578063559f05dc146101d75780635c975abb146101fa5780635f6b5ebd14610204578063715018a61461021a5780637ffa7f0014610222575f80fd5b806301dc8077146101365780633f4ba83a146101625780633f6983941461016c57806345516cca146101a35780634d518a5e146101cf575b5f80fd5b610149610144366004610c50565b610303565b60405162ffffff90911681526020015b60405180910390f35b61016a61048f565b005b61017f61017a366004610cae565b6104a1565b604080516001600160e01b0319909316835262ffffff909116602083015201610159565b6101b66101b1366004610cae565b61084d565b6040516001600160e01b03199091168152602001610159565b610149601681565b6101ea6101e5366004610c50565b61088c565b6040519015158152602001610159565b5f5460ff166101ea565b61020c606481565b604051908152602001610159565b61016a6109c3565b610149610230366004610c50565b6109d4565b610149600f81565b61016a610a66565b5f5461010090046001600160a01b03165b6040516001600160a01b039091168152602001610159565b61014961027c366004610d29565b610a76565b6003610256565b61020c61035281565b610149601e81565b6102567f000000000000000000000000000000000000000000000000000000000000000081565b61020c61025881565b61016a6102d7366004610c50565b610aa1565b6102567f000000000000000000000000000000000000000000000000000000000000000081565b60405163fbac395160e01b81526001600160a01b0382811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063fbac395190602401602060405180830381865afa15801561036b573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061038f9190610d40565b156103bd576040516328e9b38560e01b81526001600160a01b03831660048201526024015b60405180910390fd5b604051630d47875d60e41b81526001600160a01b0383811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063d47875d090602401602060405180830381865afa158015610425573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104499190610d5f565b9050606481101561047f5760405163f7fe176360e01b81526001600160a01b0384166004820152602481018290526044016103b4565b61048881610a76565b9392505050565b610497610ade565b61049f610b10565b565b5f806104ab610b61565b5f60148410156104bb57876104d5565b6104c860145f8688610d76565b6104d191610d9d565b60601c5b604051630d47875d60e41b81526001600160a01b0382811660048301529192505f9182917f00000000000000000000000000000000000000000000000000000000000000009091169063d47875d090602401602060405180830381865afa925050508015610560575060408051601f3d908101601f1916820190925261055d91810190610d5f565b60015b61060157826001600160a01b03167ff1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a3225f6040516105e29181526040602082018190526025908201527f4f7261636c65206661696c757265202d2066616c6c6261636b206665652061706060820152641c1b1a595960da1b608082015260a00190565b60405180910390a250630fda60e560e21b9350601e9250610843915050565b60405163fbac395160e01b81526001600160a01b03858116600483015291935083917f0000000000000000000000000000000000000000000000000000000000000000169063fbac395190602401602060405180830381865afa925050508015610688575060408051601f3d908101601f1916820190925261068591810190610d40565b60015b610694575f9150610697565b91505b50801561073a57826001600160a01b03167ff1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a3228360405161070e9181526040602082018190526019908201527f4163636f756e7420626c6f636b6564206279206f7261636c6500000000000000606082015260800190565b60405180910390a26040516328e9b38560e01b81526001600160a01b03841660048201526024016103b4565b60648210156107db57826001600160a01b03167ff1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a322836040516107a89181526040602082018190526012908201527152657075746174696f6e20746f6f206c6f7760701b606082015260800190565b60405180910390a260405163f7fe176360e01b81526001600160a01b0384166004820152602481018390526044016103b4565b6107e482610a76565b6040805184815262ffffff83166020820152428183015290519195506001600160a01b038516917fb8ca9be02c1d1ff61dd4b4dd6f49109915b83fef721348a39fef7f9b535f53479181900360600190a250630fda60e560e21b935050505b9550959350505050565b5f80601483101561085e5786610878565b61086b60145f8587610d76565b61087491610d9d565b60601c5b506322a8b66560e11b979650505050505050565b60405163fbac395160e01b81526001600160a01b0382811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063fbac395190602401602060405180830381865afa925050508015610912575060408051601f3d908101601f1916820190925261090f91810190610d40565b60015b1561092757801561092557505f92915050565b505b604051630d47875d60e41b81526001600160a01b0383811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063d47875d090602401602060405180830381865afa9250505080156109a9575060408051601f3d908101601f191682019092526109a691810190610d5f565b60015b6109b457505f919050565b6064111592915050565b919050565b6109cb610ade565b61049f5f610b84565b604051630d47875d60e41b81526001600160a01b0382811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063d47875d090602401602060405180830381865afa925050508015610a5a575060408051601f3d908101601f19168201909252610a5791810190610d5f565b60015b61047f5750601e919050565b610a6e610ade565b61049f610bdc565b5f6103528210610a885750600f919050565b6102588210610a9957506016919050565b50601e919050565b610aa9610ade565b6001600160a01b038116610ad257604051631e4fbdf760e01b81525f60048201526024016103b4565b610adb81610b84565b50565b5f546001600160a01b0361010090910416331461049f5760405163118cdaa760e01b81523360048201526024016103b4565b610b18610c18565b5f805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b5f5460ff161561049f5760405163d93c066560e01b815260040160405180910390fd5b5f80546001600160a01b03838116610100818102610100600160a81b0319851617855560405193049190911692909183917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a35050565b610be4610b61565b5f805460ff191660011790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258610b443390565b5f5460ff1661049f57604051638dfc202b60e01b815260040160405180910390fd5b80356001600160a01b03811681146109be575f80fd5b5f60208284031215610c60575f80fd5b61048882610c3a565b5f8083601f840112610c79575f80fd5b50813567ffffffffffffffff811115610c90575f80fd5b602083019150836020828501011115610ca7575f80fd5b9250929050565b5f805f805f60608688031215610cc2575f80fd5b610ccb86610c3a565b9450602086013567ffffffffffffffff80821115610ce7575f80fd5b610cf389838a01610c69565b90965094506040880135915080821115610d0b575f80fd5b50610d1888828901610c69565b969995985093965092949392505050565b5f60208284031215610d39575f80fd5b5035919050565b5f60208284031215610d50575f80fd5b81518015158114610488575f80fd5b5f60208284031215610d6f575f80fd5b5051919050565b5f8085851115610d84575f80fd5b83861115610d90575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610dca5780818660140360031b1b83161692505b50509291505056fea2646970667358221220cc3f8979f0d9ae9cb70d2064940551949f8f3e18442eba90c1e8728d981c3a9864736f6c63430008180033","sourceMap":"919:8591:37:-:0;;;2685:363;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2776:10;;1269:95:0;;1322:31;;-1:-1:-1;;;1322:31:0;;1350:1;1322:31;;;640:51:41;613:18;;1322:31:0;;;;;;;1269:95;1373:32;1392:12;1373:18;:32::i;:::-;-1:-1:-1;;;;;;2802:31:37;::::1;2798:57;;2842:13;;-1:-1:-1::0;;;2842:13:37::1;;;;;;;;;;;2798:57;-1:-1:-1::0;;;;;2869:26:37;::::1;2865:52;;2904:13;;-1:-1:-1::0;;;2904:13:37::1;;;;;;;;;;;2865:52;-1:-1:-1::0;;;;;2936:55:37;;::::1;;::::0;3001:40:::1;;::::0;919:8591;;2912:187:0;2985:16;3004:6;;-1:-1:-1;;;;;3020:17:0;;;3004:6;3020:17;;;-1:-1:-1;;;;;;3020:17:0;;;;;3052:40;;3004:6;;;;;;;3020:17;;3004:6;;3052:40;;;2975:124;2912:187;:::o;14:177:41:-;93:13;;-1:-1:-1;;;;;135:31:41;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:293::-;275:6;283;336:2;324:9;315:7;311:23;307:32;304:52;;;352:1;349;342:12;304:52;375:40;405:9;375:40;:::i;:::-;365:50;;434:49;479:2;468:9;464:18;434:49;:::i;:::-;424:59;;196:293;;;;;:::o;494:203::-;919:8591:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b5060043610610132575f3560e01c806382be46ba116100b4578063d44686fd11610079578063d44686fd14610288578063d5325c7f14610291578063dc4c90d314610299578063ea4979bd146102c0578063f2fde38b146102c9578063fad844c1146102dc575f80fd5b806382be46ba146102355780638456cb591461023d5780638da5cb5b1461024557806399a5d7471461026e578063c4e833ce14610281575f80fd5b8063559f05dc116100fa578063559f05dc146101d75780635c975abb146101fa5780635f6b5ebd14610204578063715018a61461021a5780637ffa7f0014610222575f80fd5b806301dc8077146101365780633f4ba83a146101625780633f6983941461016c57806345516cca146101a35780634d518a5e146101cf575b5f80fd5b610149610144366004610c50565b610303565b60405162ffffff90911681526020015b60405180910390f35b61016a61048f565b005b61017f61017a366004610cae565b6104a1565b604080516001600160e01b0319909316835262ffffff909116602083015201610159565b6101b66101b1366004610cae565b61084d565b6040516001600160e01b03199091168152602001610159565b610149601681565b6101ea6101e5366004610c50565b61088c565b6040519015158152602001610159565b5f5460ff166101ea565b61020c606481565b604051908152602001610159565b61016a6109c3565b610149610230366004610c50565b6109d4565b610149600f81565b61016a610a66565b5f5461010090046001600160a01b03165b6040516001600160a01b039091168152602001610159565b61014961027c366004610d29565b610a76565b6003610256565b61020c61035281565b610149601e81565b6102567f000000000000000000000000000000000000000000000000000000000000000081565b61020c61025881565b61016a6102d7366004610c50565b610aa1565b6102567f000000000000000000000000000000000000000000000000000000000000000081565b60405163fbac395160e01b81526001600160a01b0382811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063fbac395190602401602060405180830381865afa15801561036b573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061038f9190610d40565b156103bd576040516328e9b38560e01b81526001600160a01b03831660048201526024015b60405180910390fd5b604051630d47875d60e41b81526001600160a01b0383811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063d47875d090602401602060405180830381865afa158015610425573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104499190610d5f565b9050606481101561047f5760405163f7fe176360e01b81526001600160a01b0384166004820152602481018290526044016103b4565b61048881610a76565b9392505050565b610497610ade565b61049f610b10565b565b5f806104ab610b61565b5f60148410156104bb57876104d5565b6104c860145f8688610d76565b6104d191610d9d565b60601c5b604051630d47875d60e41b81526001600160a01b0382811660048301529192505f9182917f00000000000000000000000000000000000000000000000000000000000000009091169063d47875d090602401602060405180830381865afa925050508015610560575060408051601f3d908101601f1916820190925261055d91810190610d5f565b60015b61060157826001600160a01b03167ff1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a3225f6040516105e29181526040602082018190526025908201527f4f7261636c65206661696c757265202d2066616c6c6261636b206665652061706060820152641c1b1a595960da1b608082015260a00190565b60405180910390a250630fda60e560e21b9350601e9250610843915050565b60405163fbac395160e01b81526001600160a01b03858116600483015291935083917f0000000000000000000000000000000000000000000000000000000000000000169063fbac395190602401602060405180830381865afa925050508015610688575060408051601f3d908101601f1916820190925261068591810190610d40565b60015b610694575f9150610697565b91505b50801561073a57826001600160a01b03167ff1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a3228360405161070e9181526040602082018190526019908201527f4163636f756e7420626c6f636b6564206279206f7261636c6500000000000000606082015260800190565b60405180910390a26040516328e9b38560e01b81526001600160a01b03841660048201526024016103b4565b60648210156107db57826001600160a01b03167ff1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a322836040516107a89181526040602082018190526012908201527152657075746174696f6e20746f6f206c6f7760701b606082015260800190565b60405180910390a260405163f7fe176360e01b81526001600160a01b0384166004820152602481018390526044016103b4565b6107e482610a76565b6040805184815262ffffff83166020820152428183015290519195506001600160a01b038516917fb8ca9be02c1d1ff61dd4b4dd6f49109915b83fef721348a39fef7f9b535f53479181900360600190a250630fda60e560e21b935050505b9550959350505050565b5f80601483101561085e5786610878565b61086b60145f8587610d76565b61087491610d9d565b60601c5b506322a8b66560e11b979650505050505050565b60405163fbac395160e01b81526001600160a01b0382811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063fbac395190602401602060405180830381865afa925050508015610912575060408051601f3d908101601f1916820190925261090f91810190610d40565b60015b1561092757801561092557505f92915050565b505b604051630d47875d60e41b81526001600160a01b0383811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063d47875d090602401602060405180830381865afa9250505080156109a9575060408051601f3d908101601f191682019092526109a691810190610d5f565b60015b6109b457505f919050565b6064111592915050565b919050565b6109cb610ade565b61049f5f610b84565b604051630d47875d60e41b81526001600160a01b0382811660048301525f917f00000000000000000000000000000000000000000000000000000000000000009091169063d47875d090602401602060405180830381865afa925050508015610a5a575060408051601f3d908101601f19168201909252610a5791810190610d5f565b60015b61047f5750601e919050565b610a6e610ade565b61049f610bdc565b5f6103528210610a885750600f919050565b6102588210610a9957506016919050565b50601e919050565b610aa9610ade565b6001600160a01b038116610ad257604051631e4fbdf760e01b81525f60048201526024016103b4565b610adb81610b84565b50565b5f546001600160a01b0361010090910416331461049f5760405163118cdaa760e01b81523360048201526024016103b4565b610b18610c18565b5f805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b5f5460ff161561049f5760405163d93c066560e01b815260040160405180910390fd5b5f80546001600160a01b03838116610100818102610100600160a81b0319851617855560405193049190911692909183917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a35050565b610be4610b61565b5f805460ff191660011790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258610b443390565b5f5460ff1661049f57604051638dfc202b60e01b815260040160405180910390fd5b80356001600160a01b03811681146109be575f80fd5b5f60208284031215610c60575f80fd5b61048882610c3a565b5f8083601f840112610c79575f80fd5b50813567ffffffffffffffff811115610c90575f80fd5b602083019150836020828501011115610ca7575f80fd5b9250929050565b5f805f805f60608688031215610cc2575f80fd5b610ccb86610c3a565b9450602086013567ffffffffffffffff80821115610ce7575f80fd5b610cf389838a01610c69565b90965094506040880135915080821115610d0b575f80fd5b50610d1888828901610c69565b969995985093965092949392505050565b5f60208284031215610d39575f80fd5b5035919050565b5f60208284031215610d50575f80fd5b81518015158114610488575f80fd5b5f60208284031215610d6f575f80fd5b5051919050565b5f8085851115610d84575f80fd5b83861115610d90575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610dca5780818660140360031b1b83161692505b50509291505056fea2646970667358221220cc3f8979f0d9ae9cb70d2064940551949f8f3e18442eba90c1e8728d981c3a9864736f6c63430008180033","sourceMap":"919:8591:37:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8348:401;;;;;;:::i;:::-;;:::i;:::-;;;557:8:41;545:21;;;527:40;;515:2;500:18;8348:401:37;;;;;;;;9111:65;;;:::i;:::-;;3630:1890;;;;;;:::i;:::-;;:::i;:::-;;;;-1:-1:-1;;;;;;1914:33:41;;;1896:52;;1996:8;1984:21;;;1979:2;1964:18;;1957:49;1869:18;3630:1890:37;1726:286:41;5748:497:37;;;;;;:::i;:::-;;:::i;:::-;;;-1:-1:-1;;;;;;2179:33:41;;;2161:52;;2149:2;2134:18;5748:497:37;2017:202:41;1355:44:37;;1397:2;1355:44;;7682:487;;;;;;:::i;:::-;;:::i;:::-;;;2389:14:41;;2382:22;2364:41;;2352:2;2337:18;7682:487:37;2224:187:41;1726:84:22;1773:4;1796:7;;;1726:84;;1701:48:37;;1746:3;1701:48;;;;;2562:25:41;;;2550:2;2535:18;1701:48:37;2416:177:41;2293:101:0;;;:::i;7255:276:37:-;;;;;;:::i;:::-;;:::i;1259:42::-;;1299:2;1259:42;;9007:61;;;:::i;1638:85:0:-;1684:7;1710:6;;;;-1:-1:-1;;;;;1710:6:0;1638:85;;;-1:-1:-1;;;;;2762:32:41;;;2744:51;;2732:2;2717:18;1638:85:0;2598:203:41;6561:400:37;;;;;;:::i;:::-;;:::i;9304:204::-;9495:6;9304:204;;1587:50;;1634:3;1587:50;;1453:41;;1492:2;1453:41;;1156;;;;;1643:52;;1692:3;1643:52;;2543:215:0;;;;;;:::i;:::-;;:::i;1099:51:37:-;;;;;8348:401;8436:34;;-1:-1:-1;;;8436:34:37;;-1:-1:-1;;;;;2762:32:41;;;8436:34:37;;;2744:51:41;8410:10:37;;8436:16;:26;;;;;;2717:18:41;;8436:34:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8432:94;;;8493:22;;-1:-1:-1;;;8493:22:37;;-1:-1:-1;;;;;2762:32:41;;8493:22:37;;;2744:51:41;2717:18;;8493:22:37;;;;;;;;8432:94;8560:33;;-1:-1:-1;;;8560:33:37;;-1:-1:-1;;;;;2762:32:41;;;8560:33:37;;;2744:51:41;8544:13:37;;8560:16;:25;;;;;;2717:18:41;;8560:33:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8544:49;;1746:3;8607:5;:26;8603:95;;;8656:31;;-1:-1:-1;;;8656:31:37;;-1:-1:-1;;;;;4327:32:41;;8656:31:37;;;4309:51:41;4376:18;;;4369:34;;;4282:18;;8656:31:37;4135:274:41;8603:95:37;8723:19;8736:5;8723:12;:19::i;:::-;8716:26;8348:401;-1:-1:-1;;;8348:401:37:o;9111:65::-;1531:13:0;:11;:13::i;:::-;9159:10:37::1;:8;:10::i;:::-;9111:65::o:0;3630:1890::-;3820:15;3837:10;1350:19:22;:17;:19::i;:::-;3933:14:37::1;3969:2;3950:21:::0;::::1;;:89;;4033:6;3950:89;;;4002:14;4013:2;4011:1;4002:8:::0;;:14:::1;:::i;:::-;3994:23;::::0;::::1;:::i;:::-;3986:32;;3950:89;4170:33;::::0;-1:-1:-1;;;4170:33:37;;-1:-1:-1;;;;;2762:32:41;;;4170:33:37::1;::::0;::::1;2744:51:41::0;2762:32;;-1:-1:-1;;;;;4170:16:37::1;:25:::0;;::::1;::::0;::::1;::::0;2717:18:41;;4170:33:37::1;;;;;;;;;;;;;;;;;;-1:-1:-1::0;4170:33:37::1;::::0;;::::1;;::::0;;::::1;-1:-1:-1::0;;4170:33:37::1;::::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;::::1;:::i;:::-;;;4166:624;;4666:6;-1:-1:-1::0;;;;;4653:64:37::1;;4674:1;4653:64;;;;5312:25:41::0;;5373:2;5368;5353:18;;5346:30;;;5412:2;5392:18;;;5385:30;5451:34;5446:2;5431:18;;5424:62;-1:-1:-1;;;5517:3:41;5502:19;;5495:36;5563:3;5548:19;;5092:481;4653:64:37::1;;;;;;;;-1:-1:-1::0;;;;4739:24:37;-1:-1:-1;1492:2:37::1;::::0;-1:-1:-1;4731:48:37::1;::::0;-1:-1:-1;;4731:48:37::1;4166:624;4288:34;::::0;-1:-1:-1;;;4288:34:37;;-1:-1:-1;;;;;2762:32:41;;;4288:34:37::1;::::0;::::1;2744:51:41::0;4251:6:37;;-1:-1:-1;4251:6:37;;4288:16:::1;:26;::::0;::::1;::::0;2717:18:41;;4288:34:37::1;;;;;;;;;;;;;;;;;;-1:-1:-1::0;4288:34:37::1;::::0;;::::1;;::::0;;::::1;-1:-1:-1::0;;4288:34:37::1;::::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;::::1;:::i;:::-;;;4284:260;;4524:5;4512:17;;4284:260;;;4377:8:::0;-1:-1:-1;4284:260:37::1;4204:350;4880:9;4876:144;;;4923:6;-1:-1:-1::0;;;;;4910:56:37::1;;4931:5;4910:56;;;;5790:25:41::0;;5851:2;5846;5831:18;;5824:30;;;5890:2;5870:18;;;5863:30;5929:27;5924:2;5909:18;;5902:55;5989:3;5974:19;;5578:421;4910:56:37::1;;;;;;;;4987:22;::::0;-1:-1:-1;;;4987:22:37;;-1:-1:-1;;;;;2762:32:41;;4987:22:37::1;::::0;::::1;2744:51:41::0;2717:18;;4987:22:37::1;2598:203:41::0;4876:144:37::1;1746:3;5042:5;:26;5038:163;;;5102:6;-1:-1:-1::0;;;;;5089:49:37::1;;5110:5;5089:49;;;;6216:25:41::0;;6277:2;6272;6257:18;;6250:30;;;6316:2;6296:18;;;6289:30;-1:-1:-1;;;6350:2:41;6335:18;;6328:48;6408:3;6393:19;;6004:414;5089:49:37::1;;;;;;;;5159:31;::::0;-1:-1:-1;;;5159:31:37;;-1:-1:-1;;;;;4327:32:41;;5159:31:37::1;::::0;::::1;4309:51:41::0;4376:18;;;4369:34;;;4282:18;;5159:31:37::1;4135:274:41::0;5038:163:37::1;5278:19;5291:5;5278:12;:19::i;:::-;5401:55;::::0;;6623:25:41;;;6696:8;6684:21;;6679:2;6664:18;;6657:49;5440:15:37::1;6722:18:41::0;;;6715:34;5401:55:37;;6684:21:41;;-1:-1:-1;;;;;;5401:55:37;::::1;::::0;::::1;::::0;;;;6611:2:41;5401:55:37;;::::1;-1:-1:-1::0;;;;5483:24:37;-1:-1:-1;;;1379:1:22::1;3630:1890:37::0;;;;;;;;:::o;5748:497::-;5884:15;;5996:2;5977:21;;;:89;;6060:6;5977:89;;;6029:14;6040:2;6038:1;6029:8;;:14;:::i;:::-;6021:23;;;:::i;:::-;6013:32;;5977:89;-1:-1:-1;;;;6215:23:37;5748:497;-1:-1:-1;;;;;;;5748:497:37:o;7682:487::-;7768:35;;-1:-1:-1;;;7768:35:37;;-1:-1:-1;;;;;2762:32:41;;;7768:35:37;;;2744:51:41;7740:12:37;;7768:16;:26;;;;;;2717:18:41;;7768:35:37;;;;;;;;;;;;;;;;;;-1:-1:-1;7768:35:37;;;;;;;;-1:-1:-1;;7768:35:37;;;;;;;;;;;;:::i;:::-;;;7764:181;;;7845:7;7841:25;;;-1:-1:-1;7861:5:37;;7682:487;-1:-1:-1;;7682:487:37:o;7841:25::-;7804:73;7764:181;7967:34;;-1:-1:-1;;;7967:34:37;;-1:-1:-1;;;;;2762:32:41;;;7967:34:37;;;2744:51:41;7967:16:37;:25;;;;2717:18:41;;7967:34:37;;;;;;;;;;;;;;;;;;-1:-1:-1;7967:34:37;;;;;;;;-1:-1:-1;;7967:34:37;;;;;;;;;;;;:::i;:::-;;;7963:200;;-1:-1:-1;8113:5:37;;7682:487;-1:-1:-1;7682:487:37:o;7963:200::-;1746:3;-1:-1:-1;8047:27:37;;7682:487;-1:-1:-1;;7682:487:37:o;7963:200::-;7682:487;;;:::o;2293:101:0:-;1531:13;:11;:13::i;:::-;2357:30:::1;2384:1;2357:18;:30::i;7255:276:37:-:0;7347:34;;-1:-1:-1;;;7347:34:37;;-1:-1:-1;;;;;2762:32:41;;;7347:34:37;;;2744:51:41;7321:10:37;;7347:16;:25;;;;;;2717:18:41;;7347:34:37;;;;;;;;;;;;;;;;;;-1:-1:-1;7347:34:37;;;;;;;;-1:-1:-1;;7347:34:37;;;;;;;;;;;;:::i;:::-;;;7343:182;;-1:-1:-1;1492:2:37;;7255:276;-1:-1:-1;7255:276:37:o;9007:61::-;1531:13:0;:11;:13::i;:::-;9053:8:37::1;:6;:8::i;6561:400::-:0;6619:10;1634:3;6645:5;:29;6641:314;;-1:-1:-1;1299:2:37;;6561:400;-1:-1:-1;6561:400:37:o;6641:314::-;1692:3;6763:5;:31;6759:196;;-1:-1:-1;1397:2:37;;6561:400;-1:-1:-1;6561:400:37:o;6759:196::-;-1:-1:-1;1492:2:37;;6561:400;-1:-1:-1;6561:400:37:o;2543:215:0:-;1531:13;:11;:13::i;:::-;-1:-1:-1;;;;;2627:22:0;::::1;2623:91;;2672:31;::::0;-1:-1:-1;;;2672:31:0;;2700:1:::1;2672:31;::::0;::::1;2744:51:41::0;2717:18;;2672:31:0::1;2598:203:41::0;2623:91:0::1;2723:28;2742:8;2723:18;:28::i;:::-;2543:215:::0;:::o;1796:162::-;1684:7;1710:6;-1:-1:-1;;;;;1710:6:0;;;;;735:10:19;1855:23:0;1851:101;;1901:40;;-1:-1:-1;;;1901:40:0;;735:10:19;1901:40:0;;;2744:51:41;2717:18;;1901:40:0;2598:203:41;2586:117:22;1597:16;:14;:16::i;:::-;2654:5:::1;2644:15:::0;;-1:-1:-1;;2644:15:22::1;::::0;;2674:22:::1;735:10:19::0;2683:12:22::1;2674:22;::::0;-1:-1:-1;;;;;2762:32:41;;;2744:51;;2732:2;2717:18;2674:22:22::1;;;;;;;2586:117::o:0;1878:128::-;1773:4;1796:7;;;1939:61;;;1974:15;;-1:-1:-1;;;1974:15:22;;;;;;;;;;;2912:187:0;2985:16;3004:6;;-1:-1:-1;;;;;3020:17:0;;;3004:6;3020:17;;;-1:-1:-1;;;;;;3020:17:0;;;;;3052:40;;3004:6;;;;;;;3020:17;;3004:6;;3052:40;;;2975:124;2912:187;:::o;2339:115:22:-;1350:19;:17;:19::i;:::-;2398:7:::1;:14:::0;;-1:-1:-1;;2398:14:22::1;2408:4;2398:14;::::0;;2427:20:::1;2434:12;735:10:19::0;;656:96;2078:126:22;1773:4;1796:7;;;2136:62;;2172:15;;-1:-1:-1;;;2172:15:22;;;;;;;;;;;14:173:41;82:20;;-1:-1:-1;;;;;131:31:41;;121:42;;111:70;;177:1;174;167:12;192:186;251:6;304:2;292:9;283:7;279:23;275:32;272:52;;;320:1;317;310:12;272:52;343:29;362:9;343:29;:::i;578:347::-;629:8;639:6;693:3;686:4;678:6;674:17;670:27;660:55;;711:1;708;701:12;660:55;-1:-1:-1;734:20:41;;777:18;766:30;;763:50;;;809:1;806;799:12;763:50;846:4;838:6;834:17;822:29;;898:3;891:4;882:6;874;870:19;866:30;863:39;860:59;;;915:1;912;905:12;860:59;578:347;;;;;:::o;930:791::-;1029:6;1037;1045;1053;1061;1114:2;1102:9;1093:7;1089:23;1085:32;1082:52;;;1130:1;1127;1120:12;1082:52;1153:29;1172:9;1153:29;:::i;:::-;1143:39;;1233:2;1222:9;1218:18;1205:32;1256:18;1297:2;1289:6;1286:14;1283:34;;;1313:1;1310;1303:12;1283:34;1352:58;1402:7;1393:6;1382:9;1378:22;1352:58;:::i;:::-;1429:8;;-1:-1:-1;1326:84:41;-1:-1:-1;1517:2:41;1502:18;;1489:32;;-1:-1:-1;1533:16:41;;;1530:36;;;1562:1;1559;1552:12;1530:36;;1601:60;1653:7;1642:8;1631:9;1627:24;1601:60;:::i;:::-;930:791;;;;-1:-1:-1;930:791:41;;-1:-1:-1;1680:8:41;;1575:86;930:791;-1:-1:-1;;;930:791:41:o;2806:180::-;2865:6;2918:2;2906:9;2897:7;2893:23;2889:32;2886:52;;;2934:1;2931;2924:12;2886:52;-1:-1:-1;2957:23:41;;2806:180;-1:-1:-1;2806:180:41:o;3664:277::-;3731:6;3784:2;3772:9;3763:7;3759:23;3755:32;3752:52;;;3800:1;3797;3790:12;3752:52;3832:9;3826:16;3885:5;3878:13;3871:21;3864:5;3861:32;3851:60;;3907:1;3904;3897:12;3946:184;4016:6;4069:2;4057:9;4048:7;4044:23;4040:32;4037:52;;;4085:1;4082;4075:12;4037:52;-1:-1:-1;4108:16:41;;3946:184;-1:-1:-1;3946:184:41:o;4414:331::-;4519:9;4530;4572:8;4560:10;4557:24;4554:44;;;4594:1;4591;4584:12;4554:44;4623:6;4613:8;4610:20;4607:40;;;4643:1;4640;4633:12;4607:40;-1:-1:-1;;4669:23:41;;;4714:25;;;;;-1:-1:-1;4414:331:41:o;4750:337::-;-1:-1:-1;;4871:19:41;;4958:11;;;;4989:2;4981:11;;4978:103;;;5068:2;5062;5055:3;5051:2;5047:12;5044:1;5040:20;5036:29;5032:2;5028:38;5024:47;5015:56;;4978:103;;;4750:337;;;;:::o","linkReferences":{},"immutableReferences":{"11535":[{"start":737,"length":32},{"start":804,"length":32},{"start":990,"length":32},{"start":1275,"length":32},{"start":1573,"length":32},{"start":2221,"length":32},{"start":2374,"length":32},{"start":2549,"length":32}],"11538":[{"start":670,"length":32}]}},"methodIdentifiers":{"FEE_HIGH_TRUST()":"82be46ba","FEE_LOW_TRUST()":"d5325c7f","FEE_MEDIUM_TRUST()":"4d518a5e","HIGH_TRUST_THRESHOLD()":"d44686fd","MEDIUM_TRUST_THRESHOLD()":"ea4979bd","MIN_SCORE_TO_TRADE()":"5f6b5ebd","afterSwap(address,bytes,bytes)":"45516cca","beforeSwap(address,bytes,bytes)":"3f698394","calculateFee(uint256)":"99a5d747","canTrade(address)":"559f05dc","getFeeForAccount(address)":"7ffa7f00","getHookPermissions()":"c4e833ce","owner()":"8da5cb5b","pause()":"8456cb59","paused()":"5c975abb","poolManager()":"dc4c90d3","renounceOwnership()":"715018a6","reputationOracle()":"fad844c1","transferOwnership(address)":"f2fde38b","unpause()":"3f4ba83a","validateTrade(address)":"01dc8077"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_reputationOracle\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_poolManager\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AccountBlocked\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"EnforcedPause\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ExpectedPause\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"HookPaused\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OracleFailure\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"name\":\"ReputationTooLow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldOracle\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOracle\",\"type\":\"address\"}],\"name\":\"OracleUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reputationScore\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint24\",\"name\":\"feeApplied\",\"type\":\"uint24\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"SwapWithReputation\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reputationScore\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"TradeBlocked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"FEE_HIGH_TRUST\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"\",\"type\":\"uint24\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FEE_LOW_TRUST\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"\",\"type\":\"uint24\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FEE_MEDIUM_TRUST\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"\",\"type\":\"uint24\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"HIGH_TRUST_THRESHOLD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MEDIUM_TRUST_THRESHOLD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_SCORE_TO_TRADE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"hookData\",\"type\":\"bytes\"}],\"name\":\"afterSwap\",\"outputs\":[{\"internalType\":\"bytes4\",\"name\":\"selector\",\"type\":\"bytes4\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"hookData\",\"type\":\"bytes\"}],\"name\":\"beforeSwap\",\"outputs\":[{\"internalType\":\"bytes4\",\"name\":\"selector\",\"type\":\"bytes4\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"name\":\"calculateFee\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"canTrade\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getFeeForAccount\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getHookPermissions\",\"outputs\":[{\"internalType\":\"uint160\",\"name\":\"permissions\",\"type\":\"uint160\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"poolManager\",\"outputs\":[{\"internalType\":\"contract IPoolManager\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"reputationOracle\",\"outputs\":[{\"internalType\":\"contract IReputationOracle\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"validateTrade\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This is an MVP version with manual v4 interfaces. Production should use official v4 imports.\",\"errors\":{\"EnforcedPause()\":[{\"details\":\"The operation failed because the contract is paused.\"}],\"ExpectedPause()\":[{\"details\":\"The operation failed because the contract is not paused.\"}],\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"events\":{\"Paused(address)\":{\"details\":\"Emitted when the pause is triggered by `account`.\"},\"Unpaused(address)\":{\"details\":\"Emitted when the pause is lifted by `account`.\"}},\"kind\":\"dev\",\"methods\":{\"afterSwap(address,bytes,bytes)\":{\"details\":\"Used for logging and analytics\",\"params\":{\"sender\":\"The address that initiated the swap\"},\"returns\":{\"selector\":\"The function selector to confirm execution\"}},\"beforeSwap(address,bytes,bytes)\":{\"details\":\"This is where we validate trader reputation and determine fee\",\"params\":{\"hookData\":\"Optional data passed by caller (can contain actual trader address)\",\"sender\":\"The address initiating the swap (may be router)\"},\"returns\":{\"fee\":\"The dynamic fee to apply based on reputation\",\"selector\":\"The function selector to confirm execution\"}},\"calculateFee(uint256)\":{\"params\":{\"score\":\"The user's reputation score (0-1000)\"},\"returns\":{\"fee\":\"The fee in basis points (100 = 1%)\"}},\"canTrade(address)\":{\"params\":{\"account\":\"The address to check\"},\"returns\":{\"allowed\":\"True if trading is allowed\"}},\"getFeeForAccount(address)\":{\"params\":{\"account\":\"The address to check\"},\"returns\":{\"fee\":\"The fee in basis points\"}},\"getHookPermissions()\":{\"returns\":{\"permissions\":\"Bitmap of enabled hooks\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"pause()\":{\"details\":\"Only owner can pause. Useful if oracle is compromised.\"},\"paused()\":{\"details\":\"Returns true if the contract is paused, and false otherwise.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"validateTrade(address)\":{\"params\":{\"trader\":\"The address attempting to trade\"},\"returns\":{\"fee\":\"The fee that would be applied\"}}},\"title\":\"KindredHook - Reputation-based Dynamic Fee Hook for Uniswap v4\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"afterSwap(address,bytes,bytes)\":{\"notice\":\"Called after a swap is executed\"},\"beforeSwap(address,bytes,bytes)\":{\"notice\":\"Called before a swap is executed\"},\"calculateFee(uint256)\":{\"notice\":\"Calculate fee tier based on reputation score\"},\"canTrade(address)\":{\"notice\":\"Check if an account can trade\"},\"getFeeForAccount(address)\":{\"notice\":\"Get the fee that would be applied for an account\"},\"getHookPermissions()\":{\"notice\":\"Get hook permissions (for v4 pool initialization)\"},\"pause()\":{\"notice\":\"Pause the hook (emergency stop)\"},\"unpause()\":{\"notice\":\"Unpause the hook\"},\"validateTrade(address)\":{\"notice\":\"Validate a trade (used by external integrations)\"}},\"notice\":\"Implements dynamic swap fees based on user reputation scores\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/KindredHook.sol\":\"KindredHook\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/Pausable.sol\":{\"keccak256\":\"0xdb484371dfbb848cb6f5d70464e9ac9b2900e4164ead76bbce4fef0b44bcc68f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f9d6f6f6600a2bec622f699081b58350873b5e63ce05464d17d674a290bb8a7c\",\"dweb:/ipfs/QmQKVzSQY1PM3Bid4QhgVVZyx6B4Jx7XgaQzLKHj38vJz8\"]},\"src/KindredHook.sol\":{\"keccak256\":\"0x9bb1cfdd01ab180542645451be9f95a33871de7519ac2ca2e543b68b65f1634d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4e9a0e49dfe990ef55b0f04445db9af3dbed5abf4c786fbd5f9f8d4bc78298b7\",\"dweb:/ipfs/Qmd9XzT9vnovXqM7ZAWywxL5ZXAbPUxFnKKeYmgtS1JH1D\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_reputationOracle","type":"address"},{"internalType":"address","name":"_poolManager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"AccountBlocked"},{"inputs":[],"type":"error","name":"EnforcedPause"},{"inputs":[],"type":"error","name":"ExpectedPause"},{"inputs":[],"type":"error","name":"HookPaused"},{"inputs":[],"type":"error","name":"OracleFailure"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"score","type":"uint256"}],"type":"error","name":"ReputationTooLow"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[{"internalType":"address","name":"oldOracle","type":"address","indexed":true},{"internalType":"address","name":"newOracle","type":"address","indexed":true}],"type":"event","name":"OracleUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false}],"type":"event","name":"Paused","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"reputationScore","type":"uint256","indexed":false},{"internalType":"uint24","name":"feeApplied","type":"uint24","indexed":false},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"SwapWithReputation","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"reputationScore","type":"uint256","indexed":false},{"internalType":"string","name":"reason","type":"string","indexed":false}],"type":"event","name":"TradeBlocked","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false}],"type":"event","name":"Unpaused","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"FEE_HIGH_TRUST","outputs":[{"internalType":"uint24","name":"","type":"uint24"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FEE_LOW_TRUST","outputs":[{"internalType":"uint24","name":"","type":"uint24"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FEE_MEDIUM_TRUST","outputs":[{"internalType":"uint24","name":"","type":"uint24"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"HIGH_TRUST_THRESHOLD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MEDIUM_TRUST_THRESHOLD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MIN_SCORE_TO_TRADE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"hookData","type":"bytes"}],"stateMutability":"view","type":"function","name":"afterSwap","outputs":[{"internalType":"bytes4","name":"selector","type":"bytes4"}]},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"hookData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"beforeSwap","outputs":[{"internalType":"bytes4","name":"selector","type":"bytes4"},{"internalType":"uint24","name":"fee","type":"uint24"}]},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculateFee","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"canTrade","outputs":[{"internalType":"bool","name":"allowed","type":"bool"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getFeeForAccount","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"getHookPermissions","outputs":[{"internalType":"uint160","name":"permissions","type":"uint160"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"pause"},{"inputs":[],"stateMutability":"view","type":"function","name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"poolManager","outputs":[{"internalType":"contract IPoolManager","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[],"stateMutability":"view","type":"function","name":"reputationOracle","outputs":[{"internalType":"contract IReputationOracle","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"unpause"},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"validateTrade","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}]}],"devdoc":{"kind":"dev","methods":{"afterSwap(address,bytes,bytes)":{"details":"Used for logging and analytics","params":{"sender":"The address that initiated the swap"},"returns":{"selector":"The function selector to confirm execution"}},"beforeSwap(address,bytes,bytes)":{"details":"This is where we validate trader reputation and determine fee","params":{"hookData":"Optional data passed by caller (can contain actual trader address)","sender":"The address initiating the swap (may be router)"},"returns":{"fee":"The dynamic fee to apply based on reputation","selector":"The function selector to confirm execution"}},"calculateFee(uint256)":{"params":{"score":"The user's reputation score (0-1000)"},"returns":{"fee":"The fee in basis points (100 = 1%)"}},"canTrade(address)":{"params":{"account":"The address to check"},"returns":{"allowed":"True if trading is allowed"}},"getFeeForAccount(address)":{"params":{"account":"The address to check"},"returns":{"fee":"The fee in basis points"}},"getHookPermissions()":{"returns":{"permissions":"Bitmap of enabled hooks"}},"owner()":{"details":"Returns the address of the current owner."},"pause()":{"details":"Only owner can pause. Useful if oracle is compromised."},"paused()":{"details":"Returns true if the contract is paused, and false otherwise."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."},"validateTrade(address)":{"params":{"trader":"The address attempting to trade"},"returns":{"fee":"The fee that would be applied"}}},"version":1},"userdoc":{"kind":"user","methods":{"afterSwap(address,bytes,bytes)":{"notice":"Called after a swap is executed"},"beforeSwap(address,bytes,bytes)":{"notice":"Called before a swap is executed"},"calculateFee(uint256)":{"notice":"Calculate fee tier based on reputation score"},"canTrade(address)":{"notice":"Check if an account can trade"},"getFeeForAccount(address)":{"notice":"Get the fee that would be applied for an account"},"getHookPermissions()":{"notice":"Get hook permissions (for v4 pool initialization)"},"pause()":{"notice":"Pause the hook (emergency stop)"},"unpause()":{"notice":"Unpause the hook"},"validateTrade(address)":{"notice":"Validate a trade (used by external integrations)"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/KindredHook.sol":"KindredHook"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Pausable.sol":{"keccak256":"0xdb484371dfbb848cb6f5d70464e9ac9b2900e4164ead76bbce4fef0b44bcc68f","urls":["bzz-raw://f9d6f6f6600a2bec622f699081b58350873b5e63ce05464d17d674a290bb8a7c","dweb:/ipfs/QmQKVzSQY1PM3Bid4QhgVVZyx6B4Jx7XgaQzLKHj38vJz8"],"license":"MIT"},"src/KindredHook.sol":{"keccak256":"0x9bb1cfdd01ab180542645451be9f95a33871de7519ac2ca2e543b68b65f1634d","urls":["bzz-raw://4e9a0e49dfe990ef55b0f04445db9af3dbed5abf4c786fbd5f9f8d4bc78298b7","dweb:/ipfs/Qmd9XzT9vnovXqM7ZAWywxL5ZXAbPUxFnKKeYmgtS1JH1D"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/KindredHook.sol","id":11982,"exportedSymbols":{"IPoolManager":[11527],"IReputationOracle":[11517],"KindredHook":[11981],"Ownable":[147],"Pausable":[3980]},"nodeType":"SourceUnit","src":"32:9479:37","nodes":[{"id":11497,"nodeType":"PragmaDirective","src":"32:24:37","nodes":[],"literals":["solidity","^","0.8",".24"]},{"id":11499,"nodeType":"ImportDirective","src":"58:68:37","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/Pausable.sol","file":"@openzeppelin/contracts/utils/Pausable.sol","nameLocation":"-1:-1:-1","scope":11982,"sourceUnit":3981,"symbolAliases":[{"foreign":{"id":11498,"name":"Pausable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3980,"src":"66:8:37","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":11501,"nodeType":"ImportDirective","src":"127:67:37","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable.sol","file":"@openzeppelin/contracts/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":11982,"sourceUnit":148,"symbolAliases":[{"foreign":{"id":11500,"name":"Ownable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":147,"src":"135:7:37","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":11517,"nodeType":"ContractDefinition","src":"374:173:37","nodes":[{"id":11509,"nodeType":"FunctionDefinition","src":"408:67:37","nodes":[],"functionSelector":"d47875d0","implemented":false,"kind":"function","modifiers":[],"name":"getScore","nameLocation":"417:8:37","parameters":{"id":11505,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11504,"mutability":"mutable","name":"account","nameLocation":"434:7:37","nodeType":"VariableDeclaration","scope":11509,"src":"426:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11503,"name":"address","nodeType":"ElementaryTypeName","src":"426:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"425:17:37"},"returnParameters":{"id":11508,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11507,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":11509,"src":"466:7:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11506,"name":"uint256","nodeType":"ElementaryTypeName","src":"466:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"465:9:37"},"scope":11517,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":11516,"nodeType":"FunctionDefinition","src":"480:65:37","nodes":[],"functionSelector":"fbac3951","implemented":false,"kind":"function","modifiers":[],"name":"isBlocked","nameLocation":"489:9:37","parameters":{"id":11512,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11511,"mutability":"mutable","name":"account","nameLocation":"507:7:37","nodeType":"VariableDeclaration","scope":11516,"src":"499:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11510,"name":"address","nodeType":"ElementaryTypeName","src":"499:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"498:17:37"},"returnParameters":{"id":11515,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11514,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":11516,"src":"539:4:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11513,"name":"bool","nodeType":"ElementaryTypeName","src":"539:4:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"538:6:37"},"scope":11517,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IReputationOracle","contractDependencies":[],"contractKind":"interface","documentation":{"id":11502,"nodeType":"StructuredDocumentation","src":"196:177:37","text":"@notice Minimal Uniswap v4 Hook interfaces for Kindred MVP\n @dev In production, replace with: import {BaseHook} from \"@uniswap/v4-periphery/src/base/hooks/BaseHook.sol\";"},"fullyImplemented":false,"linearizedBaseContracts":[11517],"name":"IReputationOracle","nameLocation":"384:17:37","scope":11982,"usedErrors":[],"usedEvents":[]},{"id":11527,"nodeType":"ContractDefinition","src":"549:119:37","nodes":[{"id":11526,"nodeType":"FunctionDefinition","src":"578:88:37","nodes":[],"functionSelector":"d68f4dd1","implemented":false,"kind":"function","modifiers":[],"name":"getLock","nameLocation":"587:7:37","parameters":{"id":11520,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11519,"mutability":"mutable","name":"id","nameLocation":"603:2:37","nodeType":"VariableDeclaration","scope":11526,"src":"595:10:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11518,"name":"uint256","nodeType":"ElementaryTypeName","src":"595:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"594:12:37"},"returnParameters":{"id":11525,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11522,"mutability":"mutable","name":"locker","nameLocation":"638:6:37","nodeType":"VariableDeclaration","scope":11526,"src":"630:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11521,"name":"address","nodeType":"ElementaryTypeName","src":"630:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11524,"mutability":"mutable","name":"lockCaller","nameLocation":"654:10:37","nodeType":"VariableDeclaration","scope":11526,"src":"646:18:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11523,"name":"address","nodeType":"ElementaryTypeName","src":"646:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"629:36:37"},"scope":11527,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IPoolManager","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[11527],"name":"IPoolManager","nameLocation":"559:12:37","scope":11982,"usedErrors":[],"usedEvents":[]},{"id":11981,"nodeType":"ContractDefinition","src":"919:8591:37","nodes":[{"id":11535,"nodeType":"VariableDeclaration","src":"1099:51:37","nodes":[],"constant":false,"functionSelector":"fad844c1","mutability":"immutable","name":"reputationOracle","nameLocation":"1134:16:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"},"typeName":{"id":11534,"nodeType":"UserDefinedTypeName","pathNode":{"id":11533,"name":"IReputationOracle","nameLocations":["1099:17:37"],"nodeType":"IdentifierPath","referencedDeclaration":11517,"src":"1099:17:37"},"referencedDeclaration":11517,"src":"1099:17:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"visibility":"public"},{"id":11538,"nodeType":"VariableDeclaration","src":"1156:41:37","nodes":[],"constant":false,"functionSelector":"dc4c90d3","mutability":"immutable","name":"poolManager","nameLocation":"1186:11:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IPoolManager_$11527","typeString":"contract IPoolManager"},"typeName":{"id":11537,"nodeType":"UserDefinedTypeName","pathNode":{"id":11536,"name":"IPoolManager","nameLocations":["1156:12:37"],"nodeType":"IdentifierPath","referencedDeclaration":11527,"src":"1156:12:37"},"referencedDeclaration":11527,"src":"1156:12:37","typeDescriptions":{"typeIdentifier":"t_contract$_IPoolManager_$11527","typeString":"contract IPoolManager"}},"visibility":"public"},{"id":11541,"nodeType":"VariableDeclaration","src":"1259:42:37","nodes":[],"constant":true,"functionSelector":"82be46ba","mutability":"constant","name":"FEE_HIGH_TRUST","nameLocation":"1282:14:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11539,"name":"uint24","nodeType":"ElementaryTypeName","src":"1259:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"hexValue":"3135","id":11540,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1299:2:37","typeDescriptions":{"typeIdentifier":"t_rational_15_by_1","typeString":"int_const 15"},"value":"15"},"visibility":"public"},{"id":11544,"nodeType":"VariableDeclaration","src":"1355:44:37","nodes":[],"constant":true,"functionSelector":"4d518a5e","mutability":"constant","name":"FEE_MEDIUM_TRUST","nameLocation":"1378:16:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11542,"name":"uint24","nodeType":"ElementaryTypeName","src":"1355:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"hexValue":"3232","id":11543,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1397:2:37","typeDescriptions":{"typeIdentifier":"t_rational_22_by_1","typeString":"int_const 22"},"value":"22"},"visibility":"public"},{"id":11547,"nodeType":"VariableDeclaration","src":"1453:41:37","nodes":[],"constant":true,"functionSelector":"d5325c7f","mutability":"constant","name":"FEE_LOW_TRUST","nameLocation":"1476:13:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11545,"name":"uint24","nodeType":"ElementaryTypeName","src":"1453:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"hexValue":"3330","id":11546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1492:2:37","typeDescriptions":{"typeIdentifier":"t_rational_30_by_1","typeString":"int_const 30"},"value":"30"},"visibility":"public"},{"id":11550,"nodeType":"VariableDeclaration","src":"1587:50:37","nodes":[],"constant":true,"functionSelector":"d44686fd","mutability":"constant","name":"HIGH_TRUST_THRESHOLD","nameLocation":"1611:20:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11548,"name":"uint256","nodeType":"ElementaryTypeName","src":"1587:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"383530","id":11549,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1634:3:37","typeDescriptions":{"typeIdentifier":"t_rational_850_by_1","typeString":"int_const 850"},"value":"850"},"visibility":"public"},{"id":11553,"nodeType":"VariableDeclaration","src":"1643:52:37","nodes":[],"constant":true,"functionSelector":"ea4979bd","mutability":"constant","name":"MEDIUM_TRUST_THRESHOLD","nameLocation":"1667:22:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11551,"name":"uint256","nodeType":"ElementaryTypeName","src":"1643:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"363030","id":11552,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1692:3:37","typeDescriptions":{"typeIdentifier":"t_rational_600_by_1","typeString":"int_const 600"},"value":"600"},"visibility":"public"},{"id":11556,"nodeType":"VariableDeclaration","src":"1701:48:37","nodes":[],"constant":true,"functionSelector":"5f6b5ebd","mutability":"constant","name":"MIN_SCORE_TO_TRADE","nameLocation":"1725:18:37","scope":11981,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11554,"name":"uint256","nodeType":"ElementaryTypeName","src":"1701:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313030","id":11555,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1746:3:37","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"visibility":"public"},{"id":11562,"nodeType":"ErrorDefinition","src":"1883:55:37","nodes":[],"errorSelector":"f7fe1763","name":"ReputationTooLow","nameLocation":"1889:16:37","parameters":{"id":11561,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11558,"mutability":"mutable","name":"account","nameLocation":"1914:7:37","nodeType":"VariableDeclaration","scope":11562,"src":"1906:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11557,"name":"address","nodeType":"ElementaryTypeName","src":"1906:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11560,"mutability":"mutable","name":"score","nameLocation":"1931:5:37","nodeType":"VariableDeclaration","scope":11562,"src":"1923:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11559,"name":"uint256","nodeType":"ElementaryTypeName","src":"1923:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1905:32:37"}},{"id":11566,"nodeType":"ErrorDefinition","src":"1943:38:37","nodes":[],"errorSelector":"28e9b385","name":"AccountBlocked","nameLocation":"1949:14:37","parameters":{"id":11565,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11564,"mutability":"mutable","name":"account","nameLocation":"1972:7:37","nodeType":"VariableDeclaration","scope":11566,"src":"1964:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11563,"name":"address","nodeType":"ElementaryTypeName","src":"1964:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1963:17:37"}},{"id":11568,"nodeType":"ErrorDefinition","src":"1986:20:37","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"1992:11:37","parameters":{"id":11567,"nodeType":"ParameterList","parameters":[],"src":"2003:2:37"}},{"id":11570,"nodeType":"ErrorDefinition","src":"2011:19:37","nodes":[],"errorSelector":"c0e114d4","name":"HookPaused","nameLocation":"2017:10:37","parameters":{"id":11569,"nodeType":"ParameterList","parameters":[],"src":"2027:2:37"}},{"id":11572,"nodeType":"ErrorDefinition","src":"2035:22:37","nodes":[],"errorSelector":"15c6c186","name":"OracleFailure","nameLocation":"2041:13:37","parameters":{"id":11571,"nodeType":"ParameterList","parameters":[],"src":"2054:2:37"}},{"id":11582,"nodeType":"EventDefinition","src":"2190:150:37","nodes":[],"anonymous":false,"eventSelector":"b8ca9be02c1d1ff61dd4b4dd6f49109915b83fef721348a39fef7f9b535f5347","name":"SwapWithReputation","nameLocation":"2196:18:37","parameters":{"id":11581,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11574,"indexed":true,"mutability":"mutable","name":"trader","nameLocation":"2240:6:37","nodeType":"VariableDeclaration","scope":11582,"src":"2224:22:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11573,"name":"address","nodeType":"ElementaryTypeName","src":"2224:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11576,"indexed":false,"mutability":"mutable","name":"reputationScore","nameLocation":"2264:15:37","nodeType":"VariableDeclaration","scope":11582,"src":"2256:23:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11575,"name":"uint256","nodeType":"ElementaryTypeName","src":"2256:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11578,"indexed":false,"mutability":"mutable","name":"feeApplied","nameLocation":"2296:10:37","nodeType":"VariableDeclaration","scope":11582,"src":"2289:17:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11577,"name":"uint24","nodeType":"ElementaryTypeName","src":"2289:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"},{"constant":false,"id":11580,"indexed":false,"mutability":"mutable","name":"timestamp","nameLocation":"2324:9:37","nodeType":"VariableDeclaration","scope":11582,"src":"2316:17:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11579,"name":"uint256","nodeType":"ElementaryTypeName","src":"2316:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2214:125:37"}},{"id":11590,"nodeType":"EventDefinition","src":"2350:113:37","nodes":[],"anonymous":false,"eventSelector":"f1786360b37a8efe6e50f637df8568f9af54d1559fe7b519101ea27e07c6a322","name":"TradeBlocked","nameLocation":"2356:12:37","parameters":{"id":11589,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11584,"indexed":true,"mutability":"mutable","name":"trader","nameLocation":"2394:6:37","nodeType":"VariableDeclaration","scope":11590,"src":"2378:22:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11583,"name":"address","nodeType":"ElementaryTypeName","src":"2378:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11586,"indexed":false,"mutability":"mutable","name":"reputationScore","nameLocation":"2418:15:37","nodeType":"VariableDeclaration","scope":11590,"src":"2410:23:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11585,"name":"uint256","nodeType":"ElementaryTypeName","src":"2410:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11588,"indexed":false,"mutability":"mutable","name":"reason","nameLocation":"2450:6:37","nodeType":"VariableDeclaration","scope":11590,"src":"2443:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":11587,"name":"string","nodeType":"ElementaryTypeName","src":"2443:6:37","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2368:94:37"}},{"id":11596,"nodeType":"EventDefinition","src":"2473:74:37","nodes":[],"anonymous":false,"eventSelector":"078c3b417dadf69374a59793b829c52001247130433427049317bde56607b1b7","name":"OracleUpdated","nameLocation":"2479:13:37","parameters":{"id":11595,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11592,"indexed":true,"mutability":"mutable","name":"oldOracle","nameLocation":"2509:9:37","nodeType":"VariableDeclaration","scope":11596,"src":"2493:25:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11591,"name":"address","nodeType":"ElementaryTypeName","src":"2493:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11594,"indexed":true,"mutability":"mutable","name":"newOracle","nameLocation":"2536:9:37","nodeType":"VariableDeclaration","scope":11596,"src":"2520:25:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11593,"name":"address","nodeType":"ElementaryTypeName","src":"2520:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2492:54:37"}},{"id":11640,"nodeType":"FunctionDefinition","src":"2685:363:37","nodes":[],"body":{"id":11639,"nodeType":"Block","src":"2788:260:37","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":11612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11607,"name":"_reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11598,"src":"2802:17:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":11610,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2831:1:37","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":11609,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2823:7:37","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11608,"name":"address","nodeType":"ElementaryTypeName","src":"2823:7:37","typeDescriptions":{}}},"id":11611,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2823:10:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2802:31:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11616,"nodeType":"IfStatement","src":"2798:57:37","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":11613,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11568,"src":"2842:11:37","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":11614,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2842:13:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11615,"nodeType":"RevertStatement","src":"2835:20:37"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":11622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11617,"name":"_poolManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11600,"src":"2869:12:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":11620,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2893:1:37","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":11619,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2885:7:37","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11618,"name":"address","nodeType":"ElementaryTypeName","src":"2885:7:37","typeDescriptions":{}}},"id":11621,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2885:10:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2869:26:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11626,"nodeType":"IfStatement","src":"2865:52:37","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":11623,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11568,"src":"2904:11:37","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":11624,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2904:13:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11625,"nodeType":"RevertStatement","src":"2897:20:37"}},{"expression":{"id":11631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11627,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"2936:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":11629,"name":"_reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11598,"src":"2973:17:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11628,"name":"IReputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11517,"src":"2955:17:37","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IReputationOracle_$11517_$","typeString":"type(contract IReputationOracle)"}},"id":11630,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2955:36:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"src":"2936:55:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11632,"nodeType":"ExpressionStatement","src":"2936:55:37"},{"expression":{"id":11637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11633,"name":"poolManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11538,"src":"3001:11:37","typeDescriptions":{"typeIdentifier":"t_contract$_IPoolManager_$11527","typeString":"contract IPoolManager"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":11635,"name":"_poolManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11600,"src":"3028:12:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11634,"name":"IPoolManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11527,"src":"3015:12:37","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPoolManager_$11527_$","typeString":"type(contract IPoolManager)"}},"id":11636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3015:26:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPoolManager_$11527","typeString":"contract IPoolManager"}},"src":"3001:40:37","typeDescriptions":{"typeIdentifier":"t_contract$_IPoolManager_$11527","typeString":"contract IPoolManager"}},"id":11638,"nodeType":"ExpressionStatement","src":"3001:40:37"}]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[{"expression":{"id":11603,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2776:3:37","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":11604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2780:6:37","memberName":"sender","nodeType":"MemberAccess","src":"2776:10:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":11605,"kind":"baseConstructorSpecifier","modifierName":{"id":11602,"name":"Ownable","nameLocations":["2768:7:37"],"nodeType":"IdentifierPath","referencedDeclaration":147,"src":"2768:7:37"},"nodeType":"ModifierInvocation","src":"2768:19:37"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":11601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11598,"mutability":"mutable","name":"_reputationOracle","nameLocation":"2714:17:37","nodeType":"VariableDeclaration","scope":11640,"src":"2706:25:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11597,"name":"address","nodeType":"ElementaryTypeName","src":"2706:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11600,"mutability":"mutable","name":"_poolManager","nameLocation":"2749:12:37","nodeType":"VariableDeclaration","scope":11640,"src":"2741:20:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11599,"name":"address","nodeType":"ElementaryTypeName","src":"2741:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2696:71:37"},"returnParameters":{"id":11606,"nodeType":"ParameterList","parameters":[],"src":"2788:0:37"},"scope":11981,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":11779,"nodeType":"FunctionDefinition","src":"3630:1890:37","nodes":[],"body":{"id":11778,"nodeType":"Block","src":"3849:1671:37","nodes":[],"statements":[{"assignments":[11657],"declarations":[{"constant":false,"id":11657,"mutability":"mutable","name":"trader","nameLocation":"3941:6:37","nodeType":"VariableDeclaration","scope":11778,"src":"3933:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11656,"name":"address","nodeType":"ElementaryTypeName","src":"3933:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":11674,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":11658,"name":"hookData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11647,"src":"3950:8:37","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":11659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3959:6:37","memberName":"length","nodeType":"MemberAccess","src":"3950:15:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"3230","id":11660,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3969:2:37","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"3950:21:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":11672,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11643,"src":"4033:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":11673,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"3950:89:37","trueExpression":{"arguments":[{"arguments":[{"baseExpression":{"id":11666,"name":"hookData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11647,"src":"4002:8:37","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"endExpression":{"hexValue":"3230","id":11668,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4013:2:37","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"id":11669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexRangeAccess","src":"4002:14:37","startExpression":{"hexValue":"30","id":11667,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4011:1:37","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr_slice","typeString":"bytes calldata slice"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr_slice","typeString":"bytes calldata slice"}],"id":11665,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3994:7:37","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes20_$","typeString":"type(bytes20)"},"typeName":{"id":11664,"name":"bytes20","nodeType":"ElementaryTypeName","src":"3994:7:37","typeDescriptions":{}}},"id":11670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3994:23:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes20","typeString":"bytes20"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes20","typeString":"bytes20"}],"id":11663,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3986:7:37","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11662,"name":"address","nodeType":"ElementaryTypeName","src":"3986:7:37","typeDescriptions":{}}},"id":11671,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3986:32:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"3933:106:37"},{"assignments":[11676],"declarations":[{"constant":false,"id":11676,"mutability":"mutable","name":"score","nameLocation":"4118:5:37","nodeType":"VariableDeclaration","scope":11778,"src":"4110:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11675,"name":"uint256","nodeType":"ElementaryTypeName","src":"4110:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":11677,"nodeType":"VariableDeclarationStatement","src":"4110:13:37"},{"assignments":[11679],"declarations":[{"constant":false,"id":11679,"mutability":"mutable","name":"isBlocked","nameLocation":"4138:9:37","nodeType":"VariableDeclaration","scope":11778,"src":"4133:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11678,"name":"bool","nodeType":"ElementaryTypeName","src":"4133:4:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":11680,"nodeType":"VariableDeclarationStatement","src":"4133:14:37"},{"clauses":[{"block":{"id":11712,"nodeType":"Block","src":"4229:325:37","statements":[{"expression":{"id":11690,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11688,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"4243:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11689,"name":"_score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11686,"src":"4251:6:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4243:14:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11691,"nodeType":"ExpressionStatement","src":"4243:14:37"},{"clauses":[{"block":{"id":11703,"nodeType":"Block","src":"4347:53:37","statements":[{"expression":{"id":11701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11699,"name":"isBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11679,"src":"4365:9:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11700,"name":"_blocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11697,"src":"4377:8:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4365:20:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11702,"nodeType":"ExpressionStatement","src":"4365:20:37"}]},"errorName":"","id":11704,"nodeType":"TryCatchClause","parameters":{"id":11698,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11697,"mutability":"mutable","name":"_blocked","nameLocation":"4337:8:37","nodeType":"VariableDeclaration","scope":11704,"src":"4332:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11696,"name":"bool","nodeType":"ElementaryTypeName","src":"4332:4:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4331:15:37"},"src":"4323:77:37"},{"block":{"id":11709,"nodeType":"Block","src":"4407:137:37","statements":[{"expression":{"id":11707,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11705,"name":"isBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11679,"src":"4512:9:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"66616c7365","id":11706,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4524:5:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"4512:17:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11708,"nodeType":"ExpressionStatement","src":"4512:17:37"}]},"errorName":"","id":11710,"nodeType":"TryCatchClause","src":"4401:143:37"}],"externalCall":{"arguments":[{"id":11694,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"4315:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11692,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"4288:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4305:9:37","memberName":"isBlocked","nodeType":"MemberAccess","referencedDeclaration":11516,"src":"4288:26:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":11695,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4288:34:37","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11711,"nodeType":"TryStatement","src":"4284:260:37"}]},"errorName":"","id":11713,"nodeType":"TryCatchClause","parameters":{"id":11687,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11686,"mutability":"mutable","name":"_score","nameLocation":"4221:6:37","nodeType":"VariableDeclaration","scope":11713,"src":"4213:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11685,"name":"uint256","nodeType":"ElementaryTypeName","src":"4213:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4212:16:37"},"src":"4204:350:37"},{"block":{"id":11726,"nodeType":"Block","src":"4561:229:37","statements":[{"eventCall":{"arguments":[{"id":11715,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"4666:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"30","id":11716,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4674:1:37","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"4f7261636c65206661696c757265202d2066616c6c6261636b20666565206170706c696564","id":11717,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4677:39:37","typeDescriptions":{"typeIdentifier":"t_stringliteral_8f05ced008819a40bcd0f4e067b670bbe913f7cdae130d818915bd2e154066bc","typeString":"literal_string \"Oracle failure - fallback fee applied\""},"value":"Oracle failure - fallback fee applied"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_stringliteral_8f05ced008819a40bcd0f4e067b670bbe913f7cdae130d818915bd2e154066bc","typeString":"literal_string \"Oracle failure - fallback fee applied\""}],"id":11714,"name":"TradeBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11590,"src":"4653:12:37","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,uint256,string memory)"}},"id":11718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4653:64:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11719,"nodeType":"EmitStatement","src":"4648:69:37"},{"expression":{"components":[{"expression":{"expression":{"id":11720,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4739:4:37","typeDescriptions":{"typeIdentifier":"t_contract$_KindredHook_$11981","typeString":"contract KindredHook"}},"id":11721,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4744:10:37","memberName":"beforeSwap","nodeType":"MemberAccess","referencedDeclaration":11779,"src":"4739:15:37","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$returns$_t_bytes4_$_t_uint24_$","typeString":"function (address,bytes memory,bytes memory) external returns (bytes4,uint24)"}},"id":11722,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4755:8:37","memberName":"selector","nodeType":"MemberAccess","src":"4739:24:37","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":11723,"name":"FEE_LOW_TRUST","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11547,"src":"4765:13:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"id":11724,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"4738:41:37","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes4_$_t_uint24_$","typeString":"tuple(bytes4,uint24)"}},"functionReturnParameters":11655,"id":11725,"nodeType":"Return","src":"4731:48:37"}]},"errorName":"","id":11727,"nodeType":"TryCatchClause","src":"4555:235:37"}],"externalCall":{"arguments":[{"id":11683,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"4196:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11681,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"4170:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4187:8:37","memberName":"getScore","nodeType":"MemberAccess","referencedDeclaration":11509,"src":"4170:25:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":11684,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4170:33:37","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11728,"nodeType":"TryStatement","src":"4166:624:37"},{"condition":{"id":11729,"name":"isBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11679,"src":"4880:9:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11741,"nodeType":"IfStatement","src":"4876:144:37","trueBody":{"id":11740,"nodeType":"Block","src":"4891:129:37","statements":[{"eventCall":{"arguments":[{"id":11731,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"4923:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":11732,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"4931:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"4163636f756e7420626c6f636b6564206279206f7261636c65","id":11733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4938:27:37","typeDescriptions":{"typeIdentifier":"t_stringliteral_b66ea02b4e5f1361bc6269792224cfcb2c86f031c8721530adb2d7953e748cf4","typeString":"literal_string \"Account blocked by oracle\""},"value":"Account blocked by oracle"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_b66ea02b4e5f1361bc6269792224cfcb2c86f031c8721530adb2d7953e748cf4","typeString":"literal_string \"Account blocked by oracle\""}],"id":11730,"name":"TradeBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11590,"src":"4910:12:37","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,uint256,string memory)"}},"id":11734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4910:56:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11735,"nodeType":"EmitStatement","src":"4905:61:37"},{"errorCall":{"arguments":[{"id":11737,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"5002:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11736,"name":"AccountBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11566,"src":"4987:14:37","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":11738,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4987:22:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11739,"nodeType":"RevertStatement","src":"4980:29:37"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11742,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"5042:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":11743,"name":"MIN_SCORE_TO_TRADE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11556,"src":"5050:18:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5042:26:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11757,"nodeType":"IfStatement","src":"5038:163:37","trueBody":{"id":11756,"nodeType":"Block","src":"5070:131:37","statements":[{"eventCall":{"arguments":[{"id":11746,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"5102:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":11747,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"5110:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"52657075746174696f6e20746f6f206c6f77","id":11748,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5117:20:37","typeDescriptions":{"typeIdentifier":"t_stringliteral_76dd7209aefa48f1f6d6acdd572a38e5090c9dbbbab05e418a0ca328866a08b3","typeString":"literal_string \"Reputation too low\""},"value":"Reputation too low"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_76dd7209aefa48f1f6d6acdd572a38e5090c9dbbbab05e418a0ca328866a08b3","typeString":"literal_string \"Reputation too low\""}],"id":11745,"name":"TradeBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11590,"src":"5089:12:37","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,uint256,string memory)"}},"id":11749,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5089:49:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11750,"nodeType":"EmitStatement","src":"5084:54:37"},{"errorCall":{"arguments":[{"id":11752,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"5176:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":11753,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"5184:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":11751,"name":"ReputationTooLow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11562,"src":"5159:16:37","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256) pure"}},"id":11754,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5159:31:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11755,"nodeType":"RevertStatement","src":"5152:38:37"}]}},{"expression":{"id":11762,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11758,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11654,"src":"5272:3:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":11760,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"5291:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":11759,"name":"calculateFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11841,"src":"5278:12:37","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint24_$","typeString":"function (uint256) pure returns (uint24)"}},"id":11761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5278:19:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"src":"5272:25:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"id":11763,"nodeType":"ExpressionStatement","src":"5272:25:37"},{"eventCall":{"arguments":[{"id":11765,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11657,"src":"5420:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":11766,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11676,"src":"5428:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":11767,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11654,"src":"5435:3:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},{"expression":{"id":11768,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5440:5:37","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":11769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5446:9:37","memberName":"timestamp","nodeType":"MemberAccess","src":"5440:15:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint24","typeString":"uint24"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":11764,"name":"SwapWithReputation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11582,"src":"5401:18:37","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint24_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint24,uint256)"}},"id":11770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5401:55:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11771,"nodeType":"EmitStatement","src":"5396:60:37"},{"expression":{"components":[{"expression":{"expression":{"id":11772,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5483:4:37","typeDescriptions":{"typeIdentifier":"t_contract$_KindredHook_$11981","typeString":"contract KindredHook"}},"id":11773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5488:10:37","memberName":"beforeSwap","nodeType":"MemberAccess","referencedDeclaration":11779,"src":"5483:15:37","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$returns$_t_bytes4_$_t_uint24_$","typeString":"function (address,bytes memory,bytes memory) external returns (bytes4,uint24)"}},"id":11774,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5499:8:37","memberName":"selector","nodeType":"MemberAccess","src":"5483:24:37","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":11775,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11654,"src":"5509:3:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"id":11776,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5482:31:37","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes4_$_t_uint24_$","typeString":"tuple(bytes4,uint24)"}},"functionReturnParameters":11655,"id":11777,"nodeType":"Return","src":"5475:38:37"}]},"documentation":{"id":11641,"nodeType":"StructuredDocumentation","src":"3212:413:37","text":"@notice Called before a swap is executed\n @dev This is where we validate trader reputation and determine fee\n @param sender The address initiating the swap (may be router)\n @param hookData Optional data passed by caller (can contain actual trader address)\n @return selector The function selector to confirm execution\n @return fee The dynamic fee to apply based on reputation"},"functionSelector":"3f698394","implemented":true,"kind":"function","modifiers":[{"id":11650,"kind":"modifierInvocation","modifierName":{"id":11649,"name":"whenNotPaused","nameLocations":["3797:13:37"],"nodeType":"IdentifierPath","referencedDeclaration":3905,"src":"3797:13:37"},"nodeType":"ModifierInvocation","src":"3797:13:37"}],"name":"beforeSwap","nameLocation":"3639:10:37","parameters":{"id":11648,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11643,"mutability":"mutable","name":"sender","nameLocation":"3667:6:37","nodeType":"VariableDeclaration","scope":11779,"src":"3659:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11642,"name":"address","nodeType":"ElementaryTypeName","src":"3659:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11645,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":11779,"src":"3683:14:37","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":11644,"name":"bytes","nodeType":"ElementaryTypeName","src":"3683:5:37","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":11647,"mutability":"mutable","name":"hookData","nameLocation":"3773:8:37","nodeType":"VariableDeclaration","scope":11779,"src":"3758:23:37","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":11646,"name":"bytes","nodeType":"ElementaryTypeName","src":"3758:5:37","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3649:138:37"},"returnParameters":{"id":11655,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11652,"mutability":"mutable","name":"selector","nameLocation":"3827:8:37","nodeType":"VariableDeclaration","scope":11779,"src":"3820:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":11651,"name":"bytes4","nodeType":"ElementaryTypeName","src":"3820:6:37","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"},{"constant":false,"id":11654,"mutability":"mutable","name":"fee","nameLocation":"3844:3:37","nodeType":"VariableDeclaration","scope":11779,"src":"3837:10:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11653,"name":"uint24","nodeType":"ElementaryTypeName","src":"3837:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"3819:29:37"},"scope":11981,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":11815,"nodeType":"FunctionDefinition","src":"5748:497:37","nodes":[],"body":{"id":11814,"nodeType":"Block","src":"5901:344:37","nodes":[],"statements":[{"assignments":[11792],"declarations":[{"constant":false,"id":11792,"mutability":"mutable","name":"trader","nameLocation":"5968:6:37","nodeType":"VariableDeclaration","scope":11814,"src":"5960:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11791,"name":"address","nodeType":"ElementaryTypeName","src":"5960:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":11809,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11796,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":11793,"name":"hookData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11786,"src":"5977:8:37","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":11794,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5986:6:37","memberName":"length","nodeType":"MemberAccess","src":"5977:15:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"3230","id":11795,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5996:2:37","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"5977:21:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":11807,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11782,"src":"6060:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":11808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5977:89:37","trueExpression":{"arguments":[{"arguments":[{"baseExpression":{"id":11801,"name":"hookData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11786,"src":"6029:8:37","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"endExpression":{"hexValue":"3230","id":11803,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6040:2:37","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"id":11804,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexRangeAccess","src":"6029:14:37","startExpression":{"hexValue":"30","id":11802,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6038:1:37","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr_slice","typeString":"bytes calldata slice"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr_slice","typeString":"bytes calldata slice"}],"id":11800,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6021:7:37","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes20_$","typeString":"type(bytes20)"},"typeName":{"id":11799,"name":"bytes20","nodeType":"ElementaryTypeName","src":"6021:7:37","typeDescriptions":{}}},"id":11805,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6021:23:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes20","typeString":"bytes20"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes20","typeString":"bytes20"}],"id":11798,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6013:7:37","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11797,"name":"address","nodeType":"ElementaryTypeName","src":"6013:7:37","typeDescriptions":{}}},"id":11806,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6013:32:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5960:106:37"},{"expression":{"expression":{"expression":{"id":11810,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6215:4:37","typeDescriptions":{"typeIdentifier":"t_contract$_KindredHook_$11981","typeString":"contract KindredHook"}},"id":11811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6220:9:37","memberName":"afterSwap","nodeType":"MemberAccess","referencedDeclaration":11815,"src":"6215:14:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function (address,bytes memory,bytes memory) view external returns (bytes4)"}},"id":11812,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6230:8:37","memberName":"selector","nodeType":"MemberAccess","src":"6215:23:37","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"functionReturnParameters":11790,"id":11813,"nodeType":"Return","src":"6208:30:37"}]},"documentation":{"id":11780,"nodeType":"StructuredDocumentation","src":"5530:213:37","text":"@notice Called after a swap is executed\n @dev Used for logging and analytics\n @param sender The address that initiated the swap\n @return selector The function selector to confirm execution"},"functionSelector":"45516cca","implemented":true,"kind":"function","modifiers":[],"name":"afterSwap","nameLocation":"5757:9:37","parameters":{"id":11787,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11782,"mutability":"mutable","name":"sender","nameLocation":"5784:6:37","nodeType":"VariableDeclaration","scope":11815,"src":"5776:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11781,"name":"address","nodeType":"ElementaryTypeName","src":"5776:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11784,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":11815,"src":"5800:14:37","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":11783,"name":"bytes","nodeType":"ElementaryTypeName","src":"5800:5:37","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":11786,"mutability":"mutable","name":"hookData","nameLocation":"5846:8:37","nodeType":"VariableDeclaration","scope":11815,"src":"5831:23:37","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":11785,"name":"bytes","nodeType":"ElementaryTypeName","src":"5831:5:37","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"5766:94:37"},"returnParameters":{"id":11790,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11789,"mutability":"mutable","name":"selector","nameLocation":"5891:8:37","nodeType":"VariableDeclaration","scope":11815,"src":"5884:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":11788,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5884:6:37","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"5883:17:37"},"scope":11981,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":11841,"nodeType":"FunctionDefinition","src":"6561:400:37","nodes":[],"body":{"id":11840,"nodeType":"Block","src":"6631:330:37","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11825,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11823,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11818,"src":"6645:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":11824,"name":"HIGH_TRUST_THRESHOLD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11550,"src":"6654:20:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6645:29:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11831,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11829,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11818,"src":"6763:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":11830,"name":"MEDIUM_TRUST_THRESHOLD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11553,"src":"6772:22:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6763:31:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":11837,"nodeType":"Block","src":"6879:76:37","statements":[{"expression":{"id":11835,"name":"FEE_LOW_TRUST","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11547,"src":"6900:13:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"functionReturnParameters":11822,"id":11836,"nodeType":"Return","src":"6893:20:37"}]},"id":11838,"nodeType":"IfStatement","src":"6759:196:37","trueBody":{"id":11834,"nodeType":"Block","src":"6796:77:37","statements":[{"expression":{"id":11832,"name":"FEE_MEDIUM_TRUST","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11544,"src":"6817:16:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"functionReturnParameters":11822,"id":11833,"nodeType":"Return","src":"6810:23:37"}]}},"id":11839,"nodeType":"IfStatement","src":"6641:314:37","trueBody":{"id":11828,"nodeType":"Block","src":"6676:77:37","statements":[{"expression":{"id":11826,"name":"FEE_HIGH_TRUST","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11541,"src":"6697:14:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"functionReturnParameters":11822,"id":11827,"nodeType":"Return","src":"6690:21:37"}]}}]},"documentation":{"id":11816,"nodeType":"StructuredDocumentation","src":"6387:169:37","text":"@notice Calculate fee tier based on reputation score\n @param score The user's reputation score (0-1000)\n @return fee The fee in basis points (100 = 1%)"},"functionSelector":"99a5d747","implemented":true,"kind":"function","modifiers":[],"name":"calculateFee","nameLocation":"6570:12:37","parameters":{"id":11819,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11818,"mutability":"mutable","name":"score","nameLocation":"6591:5:37","nodeType":"VariableDeclaration","scope":11841,"src":"6583:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11817,"name":"uint256","nodeType":"ElementaryTypeName","src":"6583:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6582:15:37"},"returnParameters":{"id":11822,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11821,"mutability":"mutable","name":"fee","nameLocation":"6626:3:37","nodeType":"VariableDeclaration","scope":11841,"src":"6619:10:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11820,"name":"uint24","nodeType":"ElementaryTypeName","src":"6619:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"6618:12:37"},"scope":11981,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":11868,"nodeType":"FunctionDefinition","src":"7255:276:37","nodes":[],"body":{"id":11867,"nodeType":"Block","src":"7333:198:37","nodes":[],"statements":[{"clauses":[{"block":{"id":11860,"nodeType":"Block","src":"7406:51:37","statements":[{"expression":{"arguments":[{"id":11857,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11854,"src":"7440:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":11856,"name":"calculateFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11841,"src":"7427:12:37","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint24_$","typeString":"function (uint256) pure returns (uint24)"}},"id":11858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7427:19:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"functionReturnParameters":11848,"id":11859,"nodeType":"Return","src":"7420:26:37"}]},"errorName":"","id":11861,"nodeType":"TryCatchClause","parameters":{"id":11855,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11854,"mutability":"mutable","name":"score","nameLocation":"7399:5:37","nodeType":"VariableDeclaration","scope":11861,"src":"7391:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11853,"name":"uint256","nodeType":"ElementaryTypeName","src":"7391:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7390:15:37"},"src":"7382:75:37"},{"block":{"id":11864,"nodeType":"Block","src":"7464:61:37","statements":[{"expression":{"id":11862,"name":"FEE_LOW_TRUST","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11547,"src":"7485:13:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"functionReturnParameters":11848,"id":11863,"nodeType":"Return","src":"7478:20:37"}]},"errorName":"","id":11865,"nodeType":"TryCatchClause","src":"7458:67:37"}],"externalCall":{"arguments":[{"id":11851,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11844,"src":"7373:7:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11849,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"7347:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7364:8:37","memberName":"getScore","nodeType":"MemberAccess","referencedDeclaration":11509,"src":"7347:25:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":11852,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7347:34:37","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11866,"nodeType":"TryStatement","src":"7343:182:37"}]},"documentation":{"id":11842,"nodeType":"StructuredDocumentation","src":"7102:148:37","text":"@notice Get the fee that would be applied for an account\n @param account The address to check\n @return fee The fee in basis points"},"functionSelector":"7ffa7f00","implemented":true,"kind":"function","modifiers":[],"name":"getFeeForAccount","nameLocation":"7264:16:37","parameters":{"id":11845,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11844,"mutability":"mutable","name":"account","nameLocation":"7289:7:37","nodeType":"VariableDeclaration","scope":11868,"src":"7281:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11843,"name":"address","nodeType":"ElementaryTypeName","src":"7281:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7280:17:37"},"returnParameters":{"id":11848,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11847,"mutability":"mutable","name":"fee","nameLocation":"7328:3:37","nodeType":"VariableDeclaration","scope":11868,"src":"7321:10:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11846,"name":"uint24","nodeType":"ElementaryTypeName","src":"7321:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"7320:12:37"},"scope":11981,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":11911,"nodeType":"FunctionDefinition","src":"7682:487:37","nodes":[],"body":{"id":11910,"nodeType":"Block","src":"7754:415:37","nodes":[],"statements":[{"clauses":[{"block":{"id":11887,"nodeType":"Block","src":"7827:50:37","statements":[{"condition":{"id":11883,"name":"blocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11881,"src":"7845:7:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11886,"nodeType":"IfStatement","src":"7841:25:37","trueBody":{"expression":{"hexValue":"66616c7365","id":11884,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7861:5:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":11875,"id":11885,"nodeType":"Return","src":"7854:12:37"}}]},"errorName":"","id":11888,"nodeType":"TryCatchClause","parameters":{"id":11882,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11881,"mutability":"mutable","name":"blocked","nameLocation":"7818:7:37","nodeType":"VariableDeclaration","scope":11888,"src":"7813:12:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11880,"name":"bool","nodeType":"ElementaryTypeName","src":"7813:4:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7812:14:37"},"src":"7804:73:37"},{"block":{"id":11889,"nodeType":"Block","src":"7884:61:37","statements":[]},"errorName":"","id":11890,"nodeType":"TryCatchClause","src":"7878:67:37"}],"externalCall":{"arguments":[{"id":11878,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11871,"src":"7795:7:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11876,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"7768:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7785:9:37","memberName":"isBlocked","nodeType":"MemberAccess","referencedDeclaration":11516,"src":"7768:26:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":11879,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7768:35:37","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11891,"nodeType":"TryStatement","src":"7764:181:37"},{"clauses":[{"block":{"id":11903,"nodeType":"Block","src":"8026:59:37","statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11899,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11897,"src":"8047:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":11900,"name":"MIN_SCORE_TO_TRADE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11556,"src":"8056:18:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8047:27:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":11875,"id":11902,"nodeType":"Return","src":"8040:34:37"}]},"errorName":"","id":11904,"nodeType":"TryCatchClause","parameters":{"id":11898,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11897,"mutability":"mutable","name":"score","nameLocation":"8019:5:37","nodeType":"VariableDeclaration","scope":11904,"src":"8011:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11896,"name":"uint256","nodeType":"ElementaryTypeName","src":"8011:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8010:15:37"},"src":"8002:83:37"},{"block":{"id":11907,"nodeType":"Block","src":"8092:71:37","statements":[{"expression":{"hexValue":"66616c7365","id":11905,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8113:5:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":11875,"id":11906,"nodeType":"Return","src":"8106:12:37"}]},"errorName":"","id":11908,"nodeType":"TryCatchClause","src":"8086:77:37"}],"externalCall":{"arguments":[{"id":11894,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11871,"src":"7993:7:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11892,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"7967:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7984:8:37","memberName":"getScore","nodeType":"MemberAccess","referencedDeclaration":11509,"src":"7967:25:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":11895,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7967:34:37","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11909,"nodeType":"TryStatement","src":"7963:200:37"}]},"documentation":{"id":11869,"nodeType":"StructuredDocumentation","src":"7541:136:37","text":"@notice Check if an account can trade\n @param account The address to check\n @return allowed True if trading is allowed"},"functionSelector":"559f05dc","implemented":true,"kind":"function","modifiers":[],"name":"canTrade","nameLocation":"7691:8:37","parameters":{"id":11872,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11871,"mutability":"mutable","name":"account","nameLocation":"7708:7:37","nodeType":"VariableDeclaration","scope":11911,"src":"7700:15:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11870,"name":"address","nodeType":"ElementaryTypeName","src":"7700:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7699:17:37"},"returnParameters":{"id":11875,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11874,"mutability":"mutable","name":"allowed","nameLocation":"7745:7:37","nodeType":"VariableDeclaration","scope":11911,"src":"7740:12:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11873,"name":"bool","nodeType":"ElementaryTypeName","src":"7740:4:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7739:14:37"},"scope":11981,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":11951,"nodeType":"FunctionDefinition","src":"8348:401:37","nodes":[],"body":{"id":11950,"nodeType":"Block","src":"8422:327:37","nodes":[],"statements":[{"condition":{"arguments":[{"id":11921,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11914,"src":"8463:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11919,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"8436:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8453:9:37","memberName":"isBlocked","nodeType":"MemberAccess","referencedDeclaration":11516,"src":"8436:26:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":11922,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8436:34:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11928,"nodeType":"IfStatement","src":"8432:94:37","trueBody":{"id":11927,"nodeType":"Block","src":"8472:54:37","statements":[{"errorCall":{"arguments":[{"id":11924,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11914,"src":"8508:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11923,"name":"AccountBlocked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11566,"src":"8493:14:37","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":11925,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8493:22:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11926,"nodeType":"RevertStatement","src":"8486:29:37"}]}},{"assignments":[11930],"declarations":[{"constant":false,"id":11930,"mutability":"mutable","name":"score","nameLocation":"8552:5:37","nodeType":"VariableDeclaration","scope":11950,"src":"8544:13:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11929,"name":"uint256","nodeType":"ElementaryTypeName","src":"8544:7:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":11935,"initialValue":{"arguments":[{"id":11933,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11914,"src":"8586:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":11931,"name":"reputationOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11535,"src":"8560:16:37","typeDescriptions":{"typeIdentifier":"t_contract$_IReputationOracle_$11517","typeString":"contract IReputationOracle"}},"id":11932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8577:8:37","memberName":"getScore","nodeType":"MemberAccess","referencedDeclaration":11509,"src":"8560:25:37","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":11934,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8560:33:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8544:49:37"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11936,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11930,"src":"8607:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":11937,"name":"MIN_SCORE_TO_TRADE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11556,"src":"8615:18:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8607:26:37","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11945,"nodeType":"IfStatement","src":"8603:95:37","trueBody":{"id":11944,"nodeType":"Block","src":"8635:63:37","statements":[{"errorCall":{"arguments":[{"id":11940,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11914,"src":"8673:6:37","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":11941,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11930,"src":"8681:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":11939,"name":"ReputationTooLow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11562,"src":"8656:16:37","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256) pure"}},"id":11942,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8656:31:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11943,"nodeType":"RevertStatement","src":"8649:38:37"}]}},{"expression":{"arguments":[{"id":11947,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11930,"src":"8736:5:37","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":11946,"name":"calculateFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11841,"src":"8723:12:37","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint24_$","typeString":"function (uint256) pure returns (uint24)"}},"id":11948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8723:19:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"functionReturnParameters":11918,"id":11949,"nodeType":"Return","src":"8716:26:37"}]},"documentation":{"id":11912,"nodeType":"StructuredDocumentation","src":"8179:164:37","text":"@notice Validate a trade (used by external integrations)\n @param trader The address attempting to trade\n @return fee The fee that would be applied"},"functionSelector":"01dc8077","implemented":true,"kind":"function","modifiers":[],"name":"validateTrade","nameLocation":"8357:13:37","parameters":{"id":11915,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11914,"mutability":"mutable","name":"trader","nameLocation":"8379:6:37","nodeType":"VariableDeclaration","scope":11951,"src":"8371:14:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11913,"name":"address","nodeType":"ElementaryTypeName","src":"8371:7:37","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8370:16:37"},"returnParameters":{"id":11918,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11917,"mutability":"mutable","name":"fee","nameLocation":"8417:3:37","nodeType":"VariableDeclaration","scope":11951,"src":"8410:10:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":11916,"name":"uint24","nodeType":"ElementaryTypeName","src":"8410:6:37","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"8409:12:37"},"scope":11981,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":11961,"nodeType":"FunctionDefinition","src":"9007:61:37","nodes":[],"body":{"id":11960,"nodeType":"Block","src":"9043:25:37","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":11957,"name":"_pause","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3963,"src":"9053:6:37","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":11958,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9053:8:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11959,"nodeType":"ExpressionStatement","src":"9053:8:37"}]},"documentation":{"id":11952,"nodeType":"StructuredDocumentation","src":"8891:111:37","text":"@notice Pause the hook (emergency stop)\n @dev Only owner can pause. Useful if oracle is compromised."},"functionSelector":"8456cb59","implemented":true,"kind":"function","modifiers":[{"id":11955,"kind":"modifierInvocation","modifierName":{"id":11954,"name":"onlyOwner","nameLocations":["9033:9:37"],"nodeType":"IdentifierPath","referencedDeclaration":58,"src":"9033:9:37"},"nodeType":"ModifierInvocation","src":"9033:9:37"}],"name":"pause","nameLocation":"9016:5:37","parameters":{"id":11953,"nodeType":"ParameterList","parameters":[],"src":"9021:2:37"},"returnParameters":{"id":11956,"nodeType":"ParameterList","parameters":[],"src":"9043:0:37"},"scope":11981,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":11971,"nodeType":"FunctionDefinition","src":"9111:65:37","nodes":[],"body":{"id":11970,"nodeType":"Block","src":"9149:27:37","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":11967,"name":"_unpause","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3979,"src":"9159:8:37","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":11968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9159:10:37","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11969,"nodeType":"ExpressionStatement","src":"9159:10:37"}]},"documentation":{"id":11962,"nodeType":"StructuredDocumentation","src":"9078:28:37","text":"@notice Unpause the hook"},"functionSelector":"3f4ba83a","implemented":true,"kind":"function","modifiers":[{"id":11965,"kind":"modifierInvocation","modifierName":{"id":11964,"name":"onlyOwner","nameLocations":["9139:9:37"],"nodeType":"IdentifierPath","referencedDeclaration":58,"src":"9139:9:37"},"nodeType":"ModifierInvocation","src":"9139:9:37"}],"name":"unpause","nameLocation":"9120:7:37","parameters":{"id":11963,"nodeType":"ParameterList","parameters":[],"src":"9127:2:37"},"returnParameters":{"id":11966,"nodeType":"ParameterList","parameters":[],"src":"9149:0:37"},"scope":11981,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":11980,"nodeType":"FunctionDefinition","src":"9304:204:37","nodes":[],"body":{"id":11979,"nodeType":"Block","src":"9378:130:37","nodes":[],"statements":[{"expression":{"hexValue":"307830303033","id":11977,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9495:6:37","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"0x0003"},"functionReturnParameters":11976,"id":11978,"nodeType":"Return","src":"9488:13:37"}]},"documentation":{"id":11972,"nodeType":"StructuredDocumentation","src":"9186:113:37","text":"@notice Get hook permissions (for v4 pool initialization)\n @return permissions Bitmap of enabled hooks"},"functionSelector":"c4e833ce","implemented":true,"kind":"function","modifiers":[],"name":"getHookPermissions","nameLocation":"9313:18:37","parameters":{"id":11973,"nodeType":"ParameterList","parameters":[],"src":"9331:2:37"},"returnParameters":{"id":11976,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11975,"mutability":"mutable","name":"permissions","nameLocation":"9365:11:37","nodeType":"VariableDeclaration","scope":11980,"src":"9357:19:37","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":11974,"name":"uint160","nodeType":"ElementaryTypeName","src":"9357:7:37","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"9356:21:37"},"scope":11981,"stateMutability":"pure","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":11529,"name":"Pausable","nameLocations":["943:8:37"],"nodeType":"IdentifierPath","referencedDeclaration":3980,"src":"943:8:37"},"id":11530,"nodeType":"InheritanceSpecifier","src":"943:8:37"},{"baseName":{"id":11531,"name":"Ownable","nameLocations":["953:7:37"],"nodeType":"IdentifierPath","referencedDeclaration":147,"src":"953:7:37"},"id":11532,"nodeType":"InheritanceSpecifier","src":"953:7:37"}],"canonicalName":"KindredHook","contractDependencies":[],"contractKind":"contract","documentation":{"id":11528,"nodeType":"StructuredDocumentation","src":"670:249:37","text":"@title KindredHook - Reputation-based Dynamic Fee Hook for Uniswap v4\n @notice Implements dynamic swap fees based on user reputation scores\n @dev This is an MVP version with manual v4 interfaces. Production should use official v4 imports."},"fullyImplemented":true,"linearizedBaseContracts":[11981,147,3980,3752],"name":"KindredHook","nameLocation":"928:11:37","scope":11982,"usedErrors":[13,18,3894,3897,11562,11566,11568,11570,11572],"usedEvents":[24,3886,3891,11582,11590,11596]}],"license":"MIT"},"id":37}